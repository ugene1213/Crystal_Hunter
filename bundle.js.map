{"version":3,"sources":["webpack:///webpack/bootstrap c07719052c89ec665f94","webpack:///./lib/main.js","webpack:///./lib/levels.js","webpack:///./lib/barrier.js","webpack:///./lib/tile.js","webpack:///./lib/hero.js","webpack:///./lib/diamond.js","webpack:///./lib/chest.js"],"names":["className","stage","diamondTiles","currentLevel","mapGroup","hero","tiles","init","link","document","getElementById","addEventListener","e","preventDefault","loadLevel","prepareWorld","window","onKeyDown","createjs","Stage","Container","x","y","addChild","removeAllChildren","map","forEach","row","indexY","push","tile","indexX","tileArr","classArr","TileClass","newTile","name","update","didMove","keyCode","tryMove","checkWin","obj","myX","gameX","myY","gameY","tryX","tryY","myTile","tryTile","processMove","pop","move","length","tryTileTop","canTryTileMOve","anyFailing","some","alert","setTimeout","levels","Barrier","image","Image","onload","setupImage","bind","src","graphics","beginBitmapFill","drawRect","scaleX","scaleY","TILE_SIZE","Tile","setPos","dx","dy","Shape","Hero","Diamond","regX","regY","Chest"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c07719052c89ec665f94","import levels from './levels';\nimport Barrier from './barrier';\nimport Hero from './hero';\nimport Diamond from './diamond';\nimport Chest from './chest';\n\n\nconst className = {\n  '1': [Barrier],\n  '2': [Diamond],\n  '3': [Chest],\n  '4': [Hero],\n  '5': [Diamond, Chest],\n  '6': [Diamond, Hero]\n};\n\n\nlet stage;\nlet diamondTiles = [];\nlet currentLevel = 0;\nlet mapGroup;\nlet hero;\nlet tiles;\n\nconst init = () => {\n  const link = document.getElementById(\"restart\");\n  link.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    diamondTiles = [];\n    loadLevel();\n  });\n  prepareWorld();\n  window.addEventListener(\"keydown\", onKeyDown);\n  loadLevel();\n}\n\n\nconst prepareWorld = () => {\n  stage = new createjs.Stage(\"demo-canvas\");\n  mapGroup = new createjs.Container();\n  mapGroup.x = 50;\n  mapGroup.y = 50;\n  stage.addChild(mapGroup);\n\n}\n\nconst loadLevel = () => {\n  hero = null;\n  mapGroup.removeAllChildren();\n\n  const map = levels[currentLevel].map;\n  tiles = [];\n\n  map.forEach((row, indexY) => {\n    tiles.push([]);\n    row.forEach((tile, indexX) => {\n      const tileArr = tiles[indexY][indexX] = [];\n      const classArr = className[tile];\n      if(classArr) {\n        classArr.forEach((TileClass) => {\n          const newTile = new TileClass(indexX, indexY, stage);\n          mapGroup.addChild(newTile);\n          tileArr.push(newTile);\n          if (newTile.name === 'hero') {\n              hero = newTile;\n          }\n        });\n        if (tile === 2 || tile === 5 || tile === 6) {\n          diamondTiles.push(tileArr);\n        }\n      }\n    });\n  });\n\n\n  stage.update();\n};\n\nconst onKeyDown = (e) => {\n  e.preventDefault();\n  let didMove = false;\n  switch(e.keyCode) {\n    case 37:\n      didMove = tryMove(hero, -1, 0);\n      break;\n    case 38:\n      didMove = tryMove(hero, 0, -1);\n      break;\n    case 39:\n     didMove = tryMove(hero, 1, 0);\n     break;\n    case 40:\n      didMove = tryMove(hero, 0, 1);\n      break;\n  }\n\n  if (didMove) {\n    stage.update();\n\n    checkWin();\n  }\n};\n\nconst tryMove = (obj, x, y) => {\n  const myX = obj.gameX;\n  const myY = obj.gameY;\n  const tryX = myX + x;\n  const tryY = myY + y;\n  const myTile = tiles[myY][myX];\n  const tryTile = tiles[tryY] && tiles[tryY][tryX];\n\n  const processMove = () => {\n    myTile.pop();\n    tryTile.push(obj);\n    obj.move(x, y);\n    mapGroup.addChild(obj);\n    return true;\n  };\n\n  if (!tryTile) {\n    return false;\n  }\n\n  if (!tryTile.length) {\n    return processMove();\n  }\n\n  const tryTileTop = tryTile[tryTile.length - 1];\n\n  if (tryTileTop.name === 'barrier') {\n    return false;\n  }\n  if (tryTileTop.name === 'chest') {\n    if (obj.name === 'chest') {\n      return false;\n    }\n\n    const canTryTileMOve = tryMove(tryTileTop, x, y);\n\n    if (!canTryTileMOve) {\n      return false;\n    }\n  }\n\n  return processMove();\n\n};\n\nconst checkWin = () => {\n  const anyFailing = diamondTiles.some( (tileArr) => {\n    return tileArr[tileArr.length - 1].name != 'chest';\n  });\n\n  if (!anyFailing) {\n    currentLevel++;\n    if (currentLevel === levels.length) {\n      alert(\"You've won the game!\");\n    } else {\n      setTimeout(loadLevel, 300);\n    }\n  }\n};\n\n\n\nwindow.addEventListener(\"DOMContentLoaded\", init);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","const levels = [\n\n  {\n    name: 'Level 1',\n    map: [\n        [1,1,1,1,1,1,1,1],\n        [1,0,0,0,0,0,0,1],\n        [1,0,2,0,0,3,0,1],\n        [1,0,3,0,0,2,4,1],\n        [1,0,0,0,0,0,0,1],\n        [1,1,1,1,1,1,1,1]\n    ]\n  },\n\n  {\n    name: 'Level 2',\n    map: [\n        [1,1,1,1,0,0,0,0],\n        [1,0,0,1,1,1,1,1],\n        [1,0,2,0,0,3,0,1],\n        [1,0,3,0,0,2,4,1],\n        [1,1,1,0,0,1,1,1],\n        [0,0,1,1,1,1,0,0]\n    ]\n  },\n\n  {\n    name: 'Level 3',\n    map: [\n      [1,1,1,1,1,0,0,0,0],\n      [1,0,0,4,1,0,0,0,0],\n      [1,0,3,3,1,0,1,1,1],\n      [1,0,3,0,1,0,1,2,1],\n      [1,1,1,0,1,1,1,2,1],\n      [0,1,1,0,0,0,0,2,1],\n      [0,1,0,0,0,1,0,0,1],\n      [0,1,0,0,0,1,1,1,1],\n      [0,1,1,1,1,1,0,0,0]\n\n    ]\n  },\n\n  {\n    name: 'Level 4',\n    map: [\n      [1,1,1,1,1,1,1,1],\n      [1,0,0,1,0,0,0,1],\n      [1,0,0,1,0,0,0,1],\n      [1,4,3,2,2,3,0,1],\n      [1,0,3,2,5,0,1,1],\n      [1,0,3,2,2,3,0,1],\n      [1,0,0,1,0,0,0,1],\n      [1,1,1,1,1,1,1,1]\n    ]\n  },\n\n  {\n\n    name: 'Level 5',\n    map: [\n      [1,1,1,1,1,1,1],\n      [1,2,2,3,2,2,1],\n      [1,2,2,1,2,2,1],\n      [1,0,3,3,3,0,1],\n      [1,0,0,3,0,0,1],\n      [1,0,3,3,3,0,1],\n      [1,0,0,1,4,0,1],\n      [1,1,1,1,1,1,1]\n    ]\n  },\n\n  {\n    name: 'Level 6',\n    map: [\n      [1,1,1,1,1,0,0,0,0],\n      [1,0,0,0,1,1,1,1,1],\n      [1,0,1,0,1,0,0,0,1],\n      [1,0,3,0,0,0,3,0,1],\n      [1,2,2,1,3,1,3,1,1],\n      [1,2,4,3,0,0,0,1,1],\n      [1,2,2,0,0,1,1,1,1],\n      [1,1,1,1,1,1,0,0,0]\n    ]\n  },\n];\n\nexport default levels;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/levels.js","import Tile from './tile';\n\n\nclass Barrier extends Tile {\n\n  constructor(x, y, stage) {\n    super(x,y);\n    this.name = 'barrier';\n    this.stage = stage;\n\n    this.image = new Image();\n    this.image.onload = this.setupImage.bind(this);\n    this.image.src = './assets/trees.png';\n  }\n\n  setupImage() {\n    this.graphics.beginBitmapFill(this.image).drawRect(0, 0, 112, 128);\n    this.scaleX = .5;\n    this.scaleY = .5;\n    this.stage.update();\n  }\n}\n\nexport default Barrier;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/barrier.js","\n\nconst TILE_SIZE = 50;\n\nclass Tile extends createjs.Shape {\n\n  constructor(x,y) {\n    super();\n    this.setPos(x,y);\n  }\n\n  setPos(x,y) {\n    this.gameX = x;\n    this.gameY = y;\n    this.x = x * TILE_SIZE;\n    this.y = y * TILE_SIZE;\n  }\n\n  getPos() {\n    return {\n      x: this.gameX,\n      y: this.gameY\n    }\n  }\n\n  move(dx, dy) {\n    this.gameX += dx;\n    this.gameY += dy;\n    this.x += dx * TILE_SIZE;\n    this.y += dy * TILE_SIZE;\n  }\n}\n\nexport default Tile;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tile.js","import Tile from \"./tile\";\n\n\nclass Hero extends Tile {\n\n  constructor(x,y,stage) {\n    super(x,y);\n    this.name = \"hero\";\n    this.stage = stage;\n    this.image = new Image();\n    this.image.onload = this.setupImage.bind(this);\n    this.image.src = './assets/hero.png';\n  }\n\n  setupImage() {\n    this.graphics.beginBitmapFill(this.image).drawRect(0, 0, 641, 542);\n    this.scaleX = 0.07800312012;\n    this.scaleY = 0.0922509225;\n    this.stage.update();\n  }\n\n}\n\n\nexport default Hero;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/hero.js","import Tile from './tile';\n\n\nclass Diamond extends Tile {\n\n  constructor(x, y, stage) {\n    super(x,y);\n    this.name = \"diamond\";\n    this.stage = stage;\n\n    this.image = new Image(32, 32);\n    this.image.onload = this.setupImage.bind(this);\n    this.image.src = './assets/diamond.png';\n  }\n\n  setupImage() {\n    this.graphics.beginBitmapFill(this.image, \"no-repeat\").drawRect(0, 0, 32, 32);\n    this.regX -= 8;\n    this.regY -= 6;\n    this.stage.update();\n  }\n\n}\n\nexport default Diamond;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/diamond.js","import Tile from './tile';\n\n\nclass Chest extends Tile {\n  constructor(x, y, stage) {\n    super(x,y);\n    this.name = 'chest';\n    this.stage = stage;\n\n    this.image = new Image();\n    this.image.onload = this.setupImage.bind(this);\n    this.image.src = './assets/chest.png';\n  }\n\n  setupImage() {\n    this.graphics.beginBitmapFill(this.image).drawRect(0, 0, 1000, 402);\n    this.scaleX = 0.05;\n    this.scaleY = 0.12437810945;\n    this.stage.update();\n  }\n}\n\n\nexport default Chest;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/chest.js"],"sourceRoot":""}